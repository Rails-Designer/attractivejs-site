<section id="reference" class="content hidden target:block">
  <%= markdownify do %>
    ## Reference

    Quick reference of various Attractive.js features.


    ### Implicit target

    Attractive.js requires a `data-target` to be defined; if not provided, it defaults to the current element, i.e. the element with the data-action attribute.

    Example:

    ```html
    <button
      data-action="addClass#clicked"
    >
      Add `clicked` class to the button
    </button>
    ```


    ### Comma separated values

    Some actions support multiple values by separating them with a comma, e.g. `data-action="toggleClass=bg-black,text-white"`. These actions support multiple values:

    - `addClass`
    - `removeClass`
    - `toggleClass`
    - `cycleClass`
    - `cycleAttribute`
    - `cycleDataAttribute`


    ### Events

    Actions run using default event listeners based on HTML element types. Attractive.js automatically assigns appropriate events.

    | Element | Default event |
    |:------------|:-------------|
    | `<a>`, `<button>` | `click` |
    | `<input type="text">` | `input` |
    | `<input type="checkbox">`, `<input type="radio">` | `change` |
    | `<input type="submit">`, `<input type="button">` | `click` |
    | `<select>` | `change` |
    | `<textarea>` | `input` |
    | `<form>` | `submit` |
    | Other elements | `click` |


    #### Custom events

    Specify custom events using the arrow syntax: `event->action`.

    ```html
    <input
      type="text"
      data-action="keyup->removeClass#hidden"
      data-target="#clear-button"
    >
    ```


    #### Global events

    Listen to window and document events using `window@` or `document@` prefixes.

    ```html
    <!-- Auto-dismiss flash messages -->
    <ul id="flash">
      <li data-action="document@DOMContentLoaded->element#remove" data-remove-delay="5000">
        Profile updated successfully
      </li>
    </ul>

    <!-- Network status indicator -->
    <span
      data-action="window@online->removeClass#offline window@offline->addClass#offline"
      class="status-indicator"
    >
    </span>

    <!-- Turbo navigation loading state -->
    <body
      data-action="document@turbo:before-visit->addClass#loading document@turbo:load->removeClass#loading"
    >
    </body>
    ```

    Common events: `window@resize`, `window@scroll`, `window@online`, `window@offline`, `document@DOMContentLoaded`, `document@turbo:load`, `document@turbo:before-visit`.


    ### Modifiers

    Use modifiers, using the colon syntax, to control when actions execute. There are two available modifiers:

    - `:mounted` (“aliased” to `now`): when element is (programmatically) added to the DOM;
    - `:whenVisible`: when element enters viewport.

    Example: `<li data-action="element#remove:mounted" data-remove-delay="6000">Profile updated</li>`.


    ### Nested `data-target` selector

    You are not limited to a singular element when defining `data-target`. A nested selector, like `#form [type=checkbox]` would work as well and would query all checkbox elements within the `#form` selector.


    ### Set scope

    Attractive.js is by default enabled to the whole document. You can activate it to a certain element only if needed. For example only on the `#main` element.

    ```javascript
    Attractive.activate();

    const main = document.querySelector("#main");
    Attractive.activate({ on: main });
    ```


    ### Selectively enable available actions

    You can enable or disable any Attractive.js action when initializing. For example only enable the `class` and `attribute` actions.

    ```javascript
    Attractive.activate();

    Attractive.activate({ on: element }).withActions(["class", "attribute"]);
    ```
  <% end %>
</section>
